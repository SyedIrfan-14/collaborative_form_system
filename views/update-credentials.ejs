<!DOCTYPE html>
<html>
<head>
  <title>Update Credentials</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="form-container">

    <% if (welcomeMessage) { %>
      <div class="welcome-message" style="margin-bottom: 1rem; padding: 10px; background-color: #d4edda; color: #155724; border-radius: 5px;">
        <%= welcomeMessage %>
      </div>
    <% } %>

    <% if (error) { %>
      <div class="error"><%= error %></div>
    <% } %>

    <% if (success) { %>
      <div class="success"><%= success %></div>
    <% } %>

    <form action="/update-credentials" method="POST">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" value="<%= user.username || '' %>" required>
      
      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" name="dob" value="<%= user.dob ? (new Date(user.dob)).toISOString().substring(0,10) : '' %>" required>
      
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" value="<%= user.email || '' %>" required>
      
      <label for="password">New Password (leave blank to keep current):</label>
      <input type="password" id="password" name="password" placeholder="New password">
      
      <button type="submit">Update Credentials</button>
    </form>
    
    <a href="/logout">Logout</a>
  </div>
</body>
</html>
